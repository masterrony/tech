{"version":3,"sources":["../../src/controller/authController.js"],"names":["authController","post","req","res","body","password","username","process","env","APP_PASSWORD","APP_USERNAME","status","json","scs","token","iat","Math","floor","Date","now","APP_KEY","expiresIn"],"mappings":";;;;;;AAAA;;AACA;;AACA;;AAEA,IAAMA,iBAAiB,sBAAvB;;AAEAA,eAAeC,IAAf,CAAoB,GAApB,EAAyB,UAACC,GAAD,EAAMC,GAAN,EAAc;AAAA,kBACND,IAAIE,IADE;AAAA,MAC7BC,QAD6B,aAC7BA,QAD6B;AAAA,MACnBC,QADmB,aACnBA,QADmB;;AAErC,MAAGD,YAAYE,QAAQC,GAAR,CAAYC,YAAxB,IAAwCH,YAAYC,QAAQC,GAAR,CAAYE,YAAnE,EACE,OAAOP,IAAIQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,KAAK,CAAP,EAArB,CAAP;;AAEF,MAAMC,QAAQ,wBACZ,EAAEC,KAAKC,KAAKC,KAAL,CAAWC,KAAKC,GAAL,KAAa,IAAxB,CAAP,EADY,EAEZZ,QAAQC,GAAR,CAAYY,OAFA,EAGZ,EAAEC,WAAW,KAAb,EAHY,CAAd;;AAMA,SAAOlB,IAAIQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,KAAI,CAAN,EAASC,YAAT,EAArB,CAAP;AACD,CAZD;;kBAced,c","file":"authController.js","sourcesContent":["import { Router } from 'express'\r\nimport { sign } from \"jsonwebtoken\";\r\nimport { auth } from '../model/actions/UserModel'\r\n\r\nconst authController = Router()\r\n\r\nauthController.post('/', (req, res) => {\r\n  const { password, username } = req.body\r\n  if(password != process.env.APP_PASSWORD || username != process.env.APP_USERNAME)\r\n    return res.status(403).json({ scs: 0 })\r\n\r\n  const token = sign(\r\n    { iat: Math.floor(Date.now() / 1000) },\r\n    process.env.APP_KEY,\r\n    { expiresIn: '12h' }\r\n  )\r\n\r\n  return res.status(200).json({ scs:1, token })\r\n})\r\n\r\nexport default authController"]}