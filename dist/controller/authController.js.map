{"version":3,"sources":["../../src/controller/authController.js"],"names":["authController","post","req","res","body","password","username","process","env","PASSWORD","USERNAME","json","scs","token","iat","Math","floor","Date","now","APP_KEY","expiresIn"],"mappings":";;;;;;AAAA;;AACA;;AACA;;AAEA,IAAMA,iBAAiB,sBAAvB;;AAEAA,eAAeC,IAAf,CAAoB,GAApB,EAAyB,UAACC,GAAD,EAAMC,GAAN,EAAc;AAAA,kBACPD,IAAIE,IADG;AAAA,MAC9BC,QAD8B,aAC9BA,QAD8B;AAAA,MACpBC,QADoB,aACpBA,QADoB;;AAErC,MAAGD,YAAYE,QAAQC,GAAR,CAAYC,QAAxB,IAAoCH,YAAYC,QAAQC,GAAR,CAAYE,QAA/D,EACE,OAAOP,IAAIQ,IAAJ,CAAS,EAAEC,KAAK,CAAP,EAAT,CAAP;;AAEF,MAAMC,QAAQ,wBACZ,EAAEC,KAAKC,KAAKC,KAAL,CAAWC,KAAKC,GAAL,KAAa,IAAxB,CAAP,EADY,EAEZX,QAAQC,GAAR,CAAYW,OAFA,EAGZ,EAAEC,WAAW,KAAb,EAHY,CAAd;;AAMA,SAAOjB,IAAIQ,IAAJ,CAAS,EAAEC,KAAI,CAAN,EAASC,YAAT,EAAT,CAAP;AACD,CAZD;;kBAceb,c","file":"authController.js","sourcesContent":["import { Router } from 'express'\r\nimport { sign } from \"jsonwebtoken\";\r\nimport { auth } from '../model/actions/UserModel'\r\n\r\nconst authController = Router()\r\n\r\nauthController.post('/', (req, res) => {\r\n\tconst { password, username } = req.body\r\n  if(password != process.env.PASSWORD || username != process.env.USERNAME)\r\n    return res.json({ scs: 0 })\r\n\r\n  const token = sign(\r\n    { iat: Math.floor(Date.now() / 1000) },\r\n    process.env.APP_KEY,\r\n    { expiresIn: '12h' }\r\n  )\r\n\r\n  return res.json({ scs:1, token })\r\n})\r\n\r\nexport default authController"]}